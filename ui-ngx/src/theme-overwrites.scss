/**
 * Copyright © 2016-2025 The Thingsboard Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 */

@use '@angular/material' as mat;

@mixin theme-overwrites($primary, $config-or-theme) {
  @include _mat-form-field-overwrites($primary, $config-or-theme);
  @include _mat-button-overwrites($primary, $config-or-theme);
  @include _mat-icon-overwrites();
}

/* ---------------- Form Field Overwrites ---------------- */
@mixin _mat-form-field-overwrites($primary, $config-or-theme) {
  .mat-mdc-form-field.mat-form-field-appearance-fill {
    .mdc-text-field--filled, .mat-mdc-form-field-focus-overlay {
      &:before {
        content: "";
        display: block;
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0;
        top: 0;
        background-color: mat.m2-get-color-from-palette($primary);
      }
      background-color: transparent;
    }
    .mdc-text-field--filled {
      &:before { opacity: 0.03; }
      &:not(.mdc-text-field--disabled) {
        &:before { opacity: 0.06; }
        background-color: transparent;
      }
    }
    .mat-mdc-form-field-focus-overlay &:before { opacity: 0.87; }
  }
  .mat-mdc-form-field .mat-mdc-form-field-hint-wrapper { color: #333a3f; }
}

/* ---------------- Button Overwrites ---------------- */
@mixin _mat-button-overwrites($primary, $config-or-theme) {
  .mat-toolbar {
    .mat-mdc-outlined-button {
      --mdc-outlined-button-outline-color: inherit;
      &:not(:disabled) { border-color: inherit; }
    }
  }
}

/* ---------------- Icon Overwrites ---------------- */
@mixin _mat-icon-overwrites() {
  .mat-icon, .mat-icon.mat-primary, .mat-icon.mat-accent, .mat-icon.mat-warn {
    color: var(--mat-icon-color);
  }
}

/* ---------------- Sidebar & Toolbar Styles ---------------- */

/* Default color + transition for icons and text */
.tb-side-menu,
.mat-toolbar {
  mat-icon,
  span,
  a,
  .mat-list-text {
    color: #000000;          // default black
    transition: color 0.3s;
  }
}

/* Sidebar: hover on entire item changes icon + text */
.tb-side-menu .mat-mdc-button,
.tb-side-menu .mat-list-item {
  display: flex;
  align-items: center;
  color: inherit;
  transition: background-color 0.3s, color 0.3s;

  mat-icon,
  .mat-list-text,
  span {
    color: inherit;
    transition: color 0.3s;
  }

  &:hover {
    color: #FF0000;                 // red text & icon
    background-color: rgba(255,0,0,0.1); // subtle hover background
    border-radius: 4px;
  }
}

/* Sidebar: active/open item */
.tb-side-menu .mat-list-item.active {
  background-color: #FF0000;        // solid red background
  border-radius: 4px;
  color: #FFFFFF;                    // text & icons white

  mat-icon,
  .mat-list-text {
    color: #FFFFFF;
  }
}

/* Toolbar: hover on entire button changes icon + text */
.mat-toolbar .mat-mdc-button,
.mat-toolbar .mat-toolbar-row button,
.mat-toolbar .mat-toolbar-row a {
  display: flex;
  align-items: center;
  color: inherit;

  mat-icon,
  span {
    color: inherit;
    transition: color 0.3s;
  }

  &:hover {
    color: #FF0000;
  }
}

/* General hover for icons + text anywhere */
.hover-red {
  display: inline-flex;
  align-items: center;
  color: #000000;
  transition: color 0.3s;

  mat-icon,
  span {
    transition: color 0.3s;
  }

  &:hover {
    color: #FF0000;
  }
}

/* Apply hover-red to sidebar, toolbar, and home cards */
.tb-side-menu .mat-list-item,
.mat-toolbar .mat-toolbar-row span,
.mat-dashboard-card {
  @extend .hover-red;
}

/* Force all mat-icons default black */
.mat-icon {
  color: #000000;
}

/* Accent buttons in dark theme */
.tb-dark .mat-mdc-raised-button.mat-accent {
  background-color: #e73639;
}

/* Toolbar buttons icon black */
.tb-default .mat-toolbar.mat-primary button.mat-mdc-icon-button .mat-icon,
.tb-dark .mat-toolbar.mat-primary button.mat-mdc-icon-button .mat-icon {
  color: #000000;
}

/* Toolbar hover effect: icon + text */
.mat-toolbar {
  color: #000000;

  mat-icon,
  span,
  a,
  button {
    color: #000000;
    transition: color 0.3s;
  }

  mat-icon:hover,
  span:hover,
  a:hover,
  button:hover {
    color: #FF0000;
  }

  .mat-mdc-button,
  .mat-toolbar-row button,
  .mat-toolbar-row a {
    display: flex;
    align-items: center;
    color: inherit;

    mat-icon,
    span {
      color: inherit;
      transition: color 0.3s;
    }

    &:hover {
      color: #FF0000;
    }
  }
}

/* Unelevated primary button */
.tb-default .mat-mdc-unelevated-button.mat-primary {
  background-color: #e53539;
  color: #f5f5f5;
}

/* Notification badge color */
.mat-icon.notranslate.mat-badge.material-icons.mat-badge-warn.mat-ligature-font.mat-icon-no-color.mat-badge-overlap.mat-badge-above.mat-badge-after.mat-badge-small {
  color: #000000;
}

/* Toolbar hover for all items inside toolbar */
.mat-mdc-button-touch-target {
  color: #000000;
}

/* Force black color for specific icons and hover red */
.mat-icon.notranslate.material-icons.mat-ligature-font.mat-icon-no-color {
  color: #000000 !important;
  &:hover { color: #e53539 !important; }
}
.mat-mdc-focus-indicator{
  color: #e53539 !important;
}

/* Active/selected sidebar tab */
.tb-side-menu .mat-mdc-list-item--activated,
.tb-side-menu .mat-mdc-list-item.mat-mdc-list-item-interactive[aria-selected="true"] {
  background-color: #e53539 !important;   // red background
  color: #FFFFFF !important;              // white text/icons

  mat-icon,
  .mat-list-text,
  span {
    color: #FFFFFF !important;            // make icons & text white for contrast
  }
}

#mat-badge-content-0 {
  background-color: #e53539;
  color: #f5f5f5;
}

.tb-logo-title {
    height: 100px!important;
    width: 200px !important;
}

.mdc-button__label,
.ng-tns-c508571215-25,
.ng-tns-c508571215-24,
.ng-star-inserted {
  color: black !important;
}

.mdc-line-ripple {
  border-bottom-color: black !important;
}

